package ru.kryu.camera.presentation.mainscreen

import android.R
import androidx.lifecycle.ViewModel
import androidx.lifecycle.viewModelScope
import dagger.hilt.android.lifecycle.HiltViewModel
import kotlinx.coroutines.Dispatchers
import kotlinx.coroutines.delay
import kotlinx.coroutines.flow.MutableStateFlow
import kotlinx.coroutines.flow.StateFlow
import kotlinx.coroutines.flow.asStateFlow
import kotlinx.coroutines.flow.update
import kotlinx.coroutines.launch
import ru.kryu.camera.data.network.NetworkParams.ONE_FRAME_URL_FORMAT
import ru.kryu.camera.domain.model.CameraItem
import javax.inject.Inject

@HiltViewModel
class MainViewModel @Inject constructor() : ViewModel() {
    private val _uiState = MutableStateFlow(MainScreenState())
    val uiState: StateFlow<MainScreenState> = _uiState.asStateFlow()

    init {
        loadData()
    }

    fun processIntent(intent: UiIntent) {
        when (intent) {
            is UiIntent.LoadData -> loadData()
        }
    }

    private fun loadData() {
        _uiState.update { it.copy(isLoading = true, errorMessage = "", isError = false) }
        viewModelScope.launch(Dispatchers.IO) {
            delay(1000) // Simulate network delay
            val success = (0..1).random() > 0 // Simulate random error
            if (success) {
                _uiState.update {
                    it.copy(
                        isLoading = false,
                        isError = false,
                        items = listOf(
                            CameraItem("1", "Title 1", "https://s3.amazonaws.com/helpscout.net/docs/assets/6141a4aeb28e5462c534b0b8/images/615f680f12c07c18afddb6dc/file-MUo0NbaE1B.gif"),
                            CameraItem("2", "Title 2", "https://www.shutterstock.com/shutterstock/photos/159086927/display_1500/stock-photo-black-rowan-berries-on-branches-with-red-leaves-on-an-abstract-background-of-autumn-159086927.jpg"),
                            CameraItem("3", "Title 1", "https://images.pexels.com/photos/3979134/pexels-photo-3979134.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"),
                            CameraItem("4", "Title 2", "https://img.freepik.com/premium-photo/full-shot-girl-learning-math-school_23-2150470852.jpg?w=996"),
                            CameraItem("5", "Title 1", "https://img.freepik.com/premium-photo/school-desk-with-laptop-stationery_360032-2261.jpg?w=996"),
                            CameraItem("6", "Title 2", "https://img.freepik.com/premium-photo/tulip-bubble-with-rainbow-it_111797-833.jpg?w=1380"),
                            CameraItem("7", "Title 1", "https://previews.123rf.com/images/rawpixel/rawpixel1902/rawpixel190204237/117114804-sharpener-overlay-word-young-people.jpg"),
                            CameraItem("8", "Title 2", String.format(ONE_FRAME_URL_FORMAT, "2410f79c-8f7e-4cd4-8baf-f7be29869a7e")),
                            CameraItem("9", "Title 1", String.format(ONE_FRAME_URL_FORMAT, "2410f79c-8f7e-4cd4-8baf-f7be29869a7e")),
                            CameraItem("10", "Title 2", String.format(ONE_FRAME_URL_FORMAT, "2410f79c-8f7e-4cd4-8baf-f7be29869a7e")),
                            CameraItem("11", "Title 1", String.format(ONE_FRAME_URL_FORMAT, "2410f79c-8f7e-4cd4-8baf-f7be29869a7e")),
                            CameraItem("12", "Title 2", String.format(ONE_FRAME_URL_FORMAT, "2410f79c-8f7e-4cd4-8baf-f7be29869a7e")),
                            CameraItem("13", "Title 1", ""),
                            CameraItem("14", "Title 2", "android.R.drawable.ic_menu_camera)"),
                            CameraItem("15", "Title 1", "R.drawable.ic_menu_gallery)"),
                            CameraItem("16", "Title 2", "android.R.drawable.ic_menu_camera)"),
                            CameraItem("17", "Title 1", "https://www.svgrepo.com/show/508699/landscape-placeholder.svg"),
                            CameraItem("18", "Title 2", "https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.vecteezy.com%2Ffree-vector%2Fimage-placeholder&psig=AOvVaw2o_tKQx8RyOzU4QwyIqZ3Z&ust=1738699689001000&source=images&cd=vfe&opi=89978449&ved=2ahUKEwiNxfibp6iLAxVS_wIHHSfpHk4QjRx6BAgAEBk"),
                            CameraItem("19", "Title 1", "https://static.vecteezy.com/system/resources/thumbnails/036/594/092/small_2x/man-empty-avatar-photo-placeholder-for-social-networks-resumes-forums-and-dating-sites-male-and-female-no-photo-images-for-unfilled-user-profile-free-vector.jpg"),
                            CameraItem("20", "Title 2", "https://cms-media.slidesai.io/wp-content/uploads/2023/08/23161332/what-is-a-placeholder-in-powerpoint.png"),
                            CameraItem("21", "Title 1", "https://css-tricks.com/wp-content/uploads/2016/01/the-difference-placeholder.png"),
                            CameraItem("22", "Title 2", "data:image/jpeg;base64,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"),
                            CameraItem("23", "Title 1", "data:image/jpeg;base64,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"),
                            CameraItem("24", "Title 2", ""),
                        )
                    )
                }
            } else {
                _uiState.update {
                    it.copy(
                        isLoading = false,
                        isError = true,
                        errorMessage = "Error"
                    )
                }
                delay(50L)
                _uiState.update { it.copy(errorMessage = "") }
            }
        }
    }
}
